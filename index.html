<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Graph Visualizer</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{
--bg:#f5f1ea;
--panel-bg:#faf7f2;
--panel-border:#e3ddd3;
--text:#4a4542;
--text-muted:#8b8580;
--text-info:#b8b0a5;
--input-bg:#fff;
--input-border:#ddd6cc;
--switch-bg:#ddd6cc;
--switch-dot:#b8b0a5;
--accent:#ff8c42;
--accent-dark:#f97316;
--accent-glow:rgba(255,140,66,0.12);
--accent-shadow:rgba(255,140,66,0.3);
--node:#ff8c42;
--node-glow:rgba(255,140,66,0.35);
--arrow:#b45454;
--edge:#d1d5db;
}
[data-theme="dark"]{
--bg:#1e1b18;
--panel-bg:#2a2622;
--panel-border:#3a3632;
--text:#e8e4dc;
--text-muted:#a8a29e;
--text-info:#78716c;
--input-bg:#363330;
--input-border:#4a4743;
--switch-bg:#4a4743;
--switch-dot:#6b6662;
--accent:#ff9557;
--accent-dark:#ff8c42;
--accent-glow:rgba(255,149,87,0.15);
--accent-shadow:rgba(255,149,87,0.4);
--node:#ff9557;
--node-glow:rgba(255,149,87,0.4);
--arrow:#d97676;
--edge:#4a4743;
}
body{font-family:'Segoe UI',sans-serif;background:var(--bg);color:var(--text);display:flex;height:100vh;overflow:hidden;transition:background 0.3s,color 0.3s}
.panel{width:320px;background:var(--panel-bg);padding:24px;border-right:1px solid var(--panel-border);display:flex;flex-direction:column;gap:20px;transition:background 0.3s,border-color 0.3s}
.input-group{display:flex;flex-direction:column;gap:8px}
label{font-size:13px;color:var(--text-muted);text-transform:uppercase;letter-spacing:0.5px;transition:color 0.3s}
input,textarea{background:var(--input-bg);border:1px solid var(--input-border);color:var(--text);padding:10px;border-radius:6px;font-size:14px;font-family:monospace;transition:background 0.3s,border-color 0.3s,color 0.3s}
input:focus,textarea:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px var(--accent-glow)}
textarea{resize:vertical;min-height:80px}
.toggle{display:flex;align-items:center;gap:12px;cursor:pointer;user-select:none}
.toggle input{display:none}
.switch{width:48px;height:24px;background:var(--switch-bg);border-radius:12px;position:relative;transition:0.3s}
.switch::after{content:'';width:18px;height:18px;background:var(--switch-dot);border-radius:50%;position:absolute;top:3px;left:3px;transition:0.3s}
.toggle input:checked + .switch{background:var(--accent)}
.toggle input:checked + .switch::after{left:27px;background:#fff}
button{background:linear-gradient(135deg,var(--accent),var(--accent-dark));border:none;color:#fff;padding:12px;border-radius:6px;font-size:14px;font-weight:600;cursor:pointer;transition:0.3s}
button:hover{transform:translateY(-2px);box-shadow:0 8px 20px var(--accent-shadow)}
.canvas-wrap{flex:1;overflow:auto;background:var(--bg);position:relative;transition:background 0.3s}
#canvas{display:block;min-width:100%;min-height:100%}
.info{font-size:11px;color:var(--text-info);margin-top:auto;transition:color 0.3s}
.theme-toggle{position:absolute;top:16px;right:16px;width:40px;height:40px;background:var(--panel-bg);border:1px solid var(--panel-border);border-radius:8px;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:20px;transition:all 0.3s;z-index:10}
.theme-toggle:hover{transform:translateY(-2px);box-shadow:0 4px 12px var(--accent-glow)}
</style>
</head>
<body>
<div class="panel">
<div class="input-group">
<label>Nodes (n)</label>
<input type="number" id="nodes" value="5" min="1">
</div>
<div class="input-group">
<label>Edges [[a,b],...]</label>
<textarea id="edges" placeholder='[[0,1],[1,2],[2,3]]'>[[0,1],[1,2],[2,3],[3,4],[4,0]]</textarea>
</div>
<div class="input-group">
<label class="toggle">
<input type="checkbox" id="directed">
<span class="switch"></span>
<span>Directed Graph</span>
</label>
</div>
<button onclick="draw()">Visualize</button>
<div class="info">Click to visualize ‚Ä¢ Nodes auto-positioned</div>
</div>
<div class="canvas-wrap">
<button class="theme-toggle" onclick="toggleTheme()" id="themeBtn">‚òÄÔ∏è</button>
<canvas id="canvas"></canvas>
</div>
<script src="graph.js"></script>
<script>
const theme=localStorage.getItem('theme')||'light';
document.documentElement.setAttribute('data-theme',theme);
document.getElementById('themeBtn').textContent=theme==='dark'?'‚òÄÔ∏è':'üåô';

function toggleTheme(){
const curr=document.documentElement.getAttribute('data-theme');
const next=curr==='dark'?'light':'dark';
document.documentElement.setAttribute('data-theme',next);
localStorage.setItem('theme',next);
document.getElementById('themeBtn').textContent=next==='dark'?'‚òÄÔ∏è':'üåô';
draw();
}
</script>
</body>
</html>